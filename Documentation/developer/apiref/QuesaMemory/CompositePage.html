<html><head><title>QuesaMemory.h</title></head><body background="../../../images/logo_gray.gif" bgcolor="#ffffff"><font face="Geneva,Arial,Helvtica"><h1>QuesaMemory.h</h1></font><hr><br>
<h2>Discussion</h2>
Declares the Quesa memory manager.
 <hr><br><h2>Functions</h2>
<a name="//apple_ref/c/func/Q3Memory_Allocate"></a>
<h3><a name="Q3Memory_Allocate">Q3Memory_Allocate</a></h3>
<blockquote><pre><tt>void * 
Q3Memory_Allocate (
    TQ3Uns32                      theSize
);
</tt><br>
</pre></blockquote>
<p>Allocates a block of memory of the specified size.
<br><br>
The pointer returned must be disposed of with Q3Memory_Free.
The initial contents of the block are undefined.
<br><br>
<em>This function is not available in QD3D.</em>
<br><br>
</p>
<h4>Parameters</h4>
<blockquote>
<table bgcolor="#F0F0FF" border=1 bordercolor=white cellpadding=0 cellspacing=0 width = "90%">
<thead><tr valign=top bgcolor="#C8C8FF"><th align=left>Name</th><th align=left>Description</th></tr></thead>
<tr valign=top><td><tt>theSize</tt></td><td>The size in bytes of the block to allocate.</td></tr>
</table>
</blockquote>
<b>Result:</b> A pointer to the block.
 
<hr>
<a name="//apple_ref/c/func/Q3Memory_AllocateClear"></a>
<h3><a name="Q3Memory_AllocateClear">Q3Memory_AllocateClear</a></h3>
<blockquote><pre><tt>void * 
Q3Memory_AllocateClear (
    TQ3Uns32                      theSize
);
</tt><br>
</pre></blockquote>
<p>Allocates a zero-filled block of memory of the specified size.
<br><br>
The pointer returned must be disposed of with Q3Memory_Free.
<br><br>
<em>This function is not available in QD3D.</em>
<br><br>
</p>
<h4>Parameters</h4>
<blockquote>
<table bgcolor="#F0F0FF" border=1 bordercolor=white cellpadding=0 cellspacing=0 width = "90%">
<thead><tr valign=top bgcolor="#C8C8FF"><th align=left>Name</th><th align=left>Description</th></tr></thead>
<tr valign=top><td><tt>theSize</tt></td><td>The size in bytes of the block to allocate.</td></tr>
</table>
</blockquote>
<b>Result:</b> A pointer to the block.
 
<hr>
<a name="//apple_ref/c/func/Q3Memory_Clear"></a>
<h3><a name="Q3Memory_Clear">Q3Memory_Clear</a></h3>
<blockquote><pre><tt>void  
Q3Memory_Clear (
    void                          *thePtr,
    TQ3Uns32                      theSize
);
</tt><br>
</pre></blockquote>
<p>Clears a block of memory.
<br><br>
Sets theSize bytes from thePtr to 0.
<br><br>
<em>This function is not available in QD3D.</em>
<br><br>
</p>
<h4>Parameters</h4>
<blockquote>
<table bgcolor="#F0F0FF" border=1 bordercolor=white cellpadding=0 cellspacing=0 width = "90%">
<thead><tr valign=top bgcolor="#C8C8FF"><th align=left>Name</th><th align=left>Description</th></tr></thead>
<tr valign=top><td><tt>thePtr</tt></td><td>A pointer to the memory to set.</td></tr>
<tr valign=top><td><tt>theSize</tt></td><td>The number of bytes to set.</td></tr>
</table>
</blockquote>
<hr>
<a name="//apple_ref/c/func/Q3Memory_Copy"></a>
<h3><a name="Q3Memory_Copy">Q3Memory_Copy</a></h3>
<blockquote><pre><tt>void  
Q3Memory_Copy (
    const void                    *srcPtr,
    void                          *dstPtr,
    TQ3Uns32                      theSize
);
</tt><br>
</pre></blockquote>
<p>Copies a block of memory.
<br><br>
Copies theSize bytes from srcPtr to dstPtr. The memory pointed to by
srcPtr and dstPtr is allowed to overlap, although this may reduce
performance.
<br><br>
<em>This function is not available in QD3D.</em>
<br><br>
</p>
<h4>Parameters</h4>
<blockquote>
<table bgcolor="#F0F0FF" border=1 bordercolor=white cellpadding=0 cellspacing=0 width = "90%">
<thead><tr valign=top bgcolor="#C8C8FF"><th align=left>Name</th><th align=left>Description</th></tr></thead>
<tr valign=top><td><tt>srcPtr</tt></td><td>A pointer to the block to copy.</td></tr>
<tr valign=top><td><tt>dstPtr</tt></td><td>A pointer to the memory to copy to.</td></tr>
<tr valign=top><td><tt>theSize</tt></td><td>The number of bytes to copy.</td></tr>
</table>
</blockquote>
<hr>
<a name="//apple_ref/c/func/Q3Memory_CountRecords"></a>
<h3><a name="Q3Memory_CountRecords">Q3Memory_CountRecords</a></h3>
<blockquote><pre><tt>TQ3Uns32 
Q3Memory_CountRecords(
    void
);
</tt><br>
</pre></blockquote>
<p>Return the number of recorded allocations of Quesa objects.
<br><br>
In non-debug builds, this function returns 0.
<br><br>
<em>This function is not available in QD3D.</em>
<br><br>
</p>
<b>Result:</b> Success or failure of the operation.
 
<hr>
<a name="//apple_ref/c/func/Q3Memory_DumpRecording"></a>
<h3><a name="Q3Memory_DumpRecording">Q3Memory_DumpRecording</a></h3>
<blockquote><pre><tt>TQ3Status 
Q3Memory_DumpRecording(
    const char                    *fileName,
    const char                    *memo
);
</tt><br>
</pre></blockquote>
<p>Write a text file listing Quesa objects that were created when
recording was turned on and still exist.  If there is already a
file in the default directory with the specified name, new text
is appended to it.
<br><br>
In non-debug builds, this function does nothing.
<br><br>
If recording is on when Q3Exit shuts down Quesa, this function
will be called for you.
<br><br>
<em>This function is not available in QD3D.</em>
<br><br>
</p>
<h4>Parameters</h4>
<blockquote>
<table bgcolor="#F0F0FF" border=1 bordercolor=white cellpadding=0 cellspacing=0 width = "90%">
<thead><tr valign=top bgcolor="#C8C8FF"><th align=left>Name</th><th align=left>Description</th></tr></thead>
<tr valign=top><td><tt>fileName</tt></td><td>Name of memory dump file.</td></tr>
<tr valign=top><td><tt>memo</tt></td><td>Text written at start of dump for identification. May be NULL.</td></tr>
</table>
</blockquote>
<b>Result:</b> Success or failure of the operation.
 
<hr>
<a name="//apple_ref/c/func/Q3Memory_ForgetRecording"></a>
<h3><a name="Q3Memory_ForgetRecording">Q3Memory_ForgetRecording</a></h3>
<blockquote><pre><tt>TQ3Status 
Q3Memory_ForgetRecording(
    void
);
</tt><br>
</pre></blockquote>
<p>Forget any previously recorded allocations of Quesa objects.
<br><br>
In non-debug builds, this function does nothing.
<br><br>
<em>This function is not available in QD3D.</em>
<br><br>
</p>
<b>Result:</b> Success or failure of the operation.
 
<hr>
<a name="//apple_ref/c/func/Q3Memory_Free"></a>
<h3><a name="Q3Memory_Free">Q3Memory_Free</a></h3>
<blockquote><pre><tt>void 
Q3Memory_Free (
    void                          **thePtr
);
</tt><br>
</pre></blockquote>
<p>Frees a previously allocated block of memory.
<br><br>
Takes a pointer to a pointer, which points to a block of previously
allocated memory.
<br><br>
After freeing the memory, the supplied pointer will be reset to NULL
to prevent future dereferences.
<br><br>
Note that you <em>must</em> pass a pointer to a pointer, and not
simply the pointer to the allocated memory. The double-indirection
is deliberate, to ensure that the pointer can be fully invalidated
after disposal.
<br><br>
<em>This function is not available in QD3D.</em>
<br><br>
</p>
<h4>Parameters</h4>
<blockquote>
<table bgcolor="#F0F0FF" border=1 bordercolor=white cellpadding=0 cellspacing=0 width = "90%">
<thead><tr valign=top bgcolor="#C8C8FF"><th align=left>Name</th><th align=left>Description</th></tr></thead>
<tr valign=top><td><tt>thePtr</tt></td><td>A pointer to the pointer to free.</td></tr>
</table>
</blockquote>
<hr>
<a name="//apple_ref/c/func/Q3Memory_Initialize"></a>
<h3><a name="Q3Memory_Initialize">Q3Memory_Initialize</a></h3>
<blockquote><pre><tt>void  
Q3Memory_Initialize (
    void                          *thePtr,
    TQ3Uns32                      theSize,
    TQ3Uns8                       theValue
);
</tt><br>
</pre></blockquote>
<p>Initialises a block of memory.
<br><br>
Sets theSize bytes from thePtr to theValue.
<br><br>
<em>This function is not available in QD3D.</em>
<br><br>
</p>
<h4>Parameters</h4>
<blockquote>
<table bgcolor="#F0F0FF" border=1 bordercolor=white cellpadding=0 cellspacing=0 width = "90%">
<thead><tr valign=top bgcolor="#C8C8FF"><th align=left>Name</th><th align=left>Description</th></tr></thead>
<tr valign=top><td><tt>thePtr</tt></td><td>A pointer to the memory to set.</td></tr>
<tr valign=top><td><tt>theSize</tt></td><td>The number of bytes to set.</td></tr>
<tr valign=top><td><tt>theValue</tt></td><td>The value to set at each byte.</td></tr>
</table>
</blockquote>
<hr>
<a name="//apple_ref/c/func/Q3Memory_IsRecording"></a>
<h3><a name="Q3Memory_IsRecording">Q3Memory_IsRecording</a></h3>
<blockquote><pre><tt>TQ3Boolean 
Q3Memory_IsRecording(
    void
);
</tt><br>
</pre></blockquote>
<p>Determine whether object allocations are being recorded.
<br><br>
<em>This function is not available in QD3D.</em>
<br><br>
</p>
<b>Result:</b> kQ3True if allocation recording is on.
 
<hr>
<a name="//apple_ref/c/func/Q3Memory_NextRecordedObject"></a>
<h3><a name="Q3Memory_NextRecordedObject">Q3Memory_NextRecordedObject</a></h3>
<blockquote><pre><tt>TQ3Object 
Q3Memory_NextRecordedObject(
    TQ3Object                     inObject
);
</tt><br>
</pre></blockquote>
<p>This function can be used to iterate through the list
of Quesa objects that were created while recording was
turned on.  Pass NULL to get the first object in the list.
When it returns NULL, you have reached the end.
<br><br>
Example:
<br><br>
<blockquote><pre><code>
TQ3Object	leaked = NULL;
while (NULL != (leaked = Q3Memory_NextRecordedObject( leaked )))
{
&nbsp;&nbsp;	// do something nondestructive to the object
}
</code></pre></blockquote>
<br><br>
In non-debug builds, this function always returns NULL.
<br><br>
<em>This function is not available in QD3D.</em>
<br><br>
</p>
<h4>Parameters</h4>
<blockquote>
<table bgcolor="#F0F0FF" border=1 bordercolor=white cellpadding=0 cellspacing=0 width = "90%">
<thead><tr valign=top bgcolor="#C8C8FF"><th align=left>Name</th><th align=left>Description</th></tr></thead>
<tr valign=top><td><tt>inObject</tt></td><td>NULL or a recorded object.</td></tr>
</table>
</blockquote>
<b>Result:</b> Next recorded object, or NULL.
 
<hr>
<a name="//apple_ref/c/func/Q3Memory_Reallocate"></a>
<h3><a name="Q3Memory_Reallocate">Q3Memory_Reallocate</a></h3>
<blockquote><pre><tt>TQ3Status  
Q3Memory_Reallocate (
    void                          **thePtr,
    TQ3Uns32                      newSize
);
</tt><br>
</pre></blockquote>
<p>Attempts to reallocate a previously allocated block of memory.
<br><br>
Implements the same behaviour as realloc, allowing memory to
be allocated, freed, or resized with a single call. See the
documentation for realloc for the exact specification.
Unlike some implementations of realloc, passing a size of zero
frees the memory and returns NULL.
<br><br>
Note that like Q3Memory_Free, a pointer to the pointer is
passed to allow it to be set to NULL after disposal, and to
allow it to be changed when resized.
<br><br>
<em>This function is not available in QD3D.</em>
<br><br>
</p>
<h4>Parameters</h4>
<blockquote>
<table bgcolor="#F0F0FF" border=1 bordercolor=white cellpadding=0 cellspacing=0 width = "90%">
<thead><tr valign=top bgcolor="#C8C8FF"><th align=left>Name</th><th align=left>Description</th></tr></thead>
<tr valign=top><td><tt>thePtr</tt></td><td>A pointer to the pointer to reallocate.</td></tr>
<tr valign=top><td><tt>newSize</tt></td><td>The size in bytes to reallocate the block to.</td></tr>
</table>
</blockquote>
<b>Result:</b> Success or failure of the operation.
 
<hr>
<a name="//apple_ref/c/func/Q3Memory_StartRecording"></a>
<h3><a name="Q3Memory_StartRecording">Q3Memory_StartRecording</a></h3>
<blockquote><pre><tt>TQ3Status 
Q3Memory_StartRecording(
    void
);
</tt><br>
</pre></blockquote>
<p>Begin recording allocations of Quesa objects.
<br><br>
In non-debug builds, this function does nothing.
<br><br>
<em>This function is not available in QD3D.</em>
<br><br>
</p>
<b>Result:</b> Success or failure of the operation.
 
<hr>
<a name="//apple_ref/c/func/Q3Memory_StopRecording"></a>
<h3><a name="Q3Memory_StopRecording">Q3Memory_StopRecording</a></h3>
<blockquote><pre><tt>TQ3Status 
Q3Memory_StopRecording(
    void
);
</tt><br>
</pre></blockquote>
<p>Stop recording allocations of Quesa objects.
<br><br>
In non-debug builds, this function does nothing.
<br><br>
<em>This function is not available in QD3D.</em>
<br><br>
</p>
<b>Result:</b> Success or failure of the operation.
 
<hr>
<p align=center><font size="-1"><a href="http://www.quesa.org/">Copyright &#169; 1999-2002 Quesa Developers &#151; last updated on 11/17/2002 </a></font></p>
</body></html>
